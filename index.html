<!DOCTYPE HTML>
<html>

<head>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Website</title>
  <script type="text/javascript" src="/js/homePage.js"></script>
  <!-- <script type="text/javascript" src="/js/jquery-2.2.2.min.js"></script>> -->
  <link rel="stylesheet" type="text/css" href="css/style.css">
  <link rel="stylesheet" href="/fonts/font-awesome-4.5.0/css/font-awesome.min.css">
</head>

<body onresize="sendLightBoxSize()">
  <a name="top" id="top"></a>

  <div id="elm-app"></div>


<script type="text/javascript">
  var elmDiv = document.getElementById('elm-app');
  
  var vpWidth = document.documentElement.clientWidth; 
  var vpHeight = document.documentElement.clientHeight;

  var elmApp = Elm.embed(Elm.HomePage, elmDiv, {locationSearch: window.location.search, scrollY: 0, vpSize: [vpWidth, vpHeight], initVpSize: [vpWidth, vpHeight]});
  
  // elmApp.ports.requestAdjustMargin.subscribe(adjustMargin);

  // $('#page').on( 'scroll', function(){
  //   elmApp.ports.scrollY.send($("#page").scrollTop())
  // })
  
  // function adjustMargin() {
  //   var picCon = document.getElementById('picContainer');
  //   var lightBC = document.getElementById('lightBC');
  //   var pic = document.getElementById('lightboxPic');
    
  //   var ratio = pic.offsetWidth / pic.offsetHeight;
    
  //   var vpWidth = document.documentElement.clientWidth; 
  //   var vpHeight = document.documentElement.clientHeight;

  //   pic.style.maxHeight = (0.85*vpHeight) + 'px';
  //   pic.style.maxWidth  = (0.85*vpHeight) * ratio + 'px';

  //   var imageWidth = picCon.offsetWidth;
  //   var imageHeight = picCon.offsetHeight;

  //   lightBC.style.position = 'absolute';
  //   lightBC.style.left = (vpWidth - imageWidth)/2 + 'px';
    
    
  //   //console.alert("youpla!");

  //    console.log(vpWidth);
  //    console.log(imageWidth);  
  //    console.log((vpWidth - imageWidth)/2 + 'px');
  //   // lightBC.style.left ='0px';
  //   // pic.style.top = (vpHeight - imageHeight)/2 + window.pageYOffset + 'px';
  // }

  // window.onload = function (){
  //   var page = document.getElementById('page');
    
  sendScroll = function(){
    elmApp.ports.scrollY.send(page.scrollTop)
  }

  sendLightBoxSize = function(){
    var lb = document.getElementById('lightbox');

    var vpWidth = document.documentElement.clientWidth; 
    var vpHeight = document.documentElement.clientHeight;

    elmApp.ports.vpSize.send([vpWidth,vpHeight]);
  }

  page.onscroll = sendScroll
  //window.onorientationchange = sendLightBoxSize
  // document.getElementById('body').onresize = sendLightBoxSize
  
  

  // }
  
  

</script>
</body>
</html>