<!DOCTYPE HTML>
<html>

<head>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Website</title>
  <script type="text/javascript" src="/js/homePage.js"></script>
  <!-- <script type="text/javascript" src="/js/jquery-2.2.2.min.js"></script>> -->
  <link rel="stylesheet" type="text/css" href="css/style.css">
  <link rel="stylesheet" href="/fonts/font-awesome-4.5.0/css/font-awesome.min.css">
</head>

<body>
  <a name="top" id="top"></a>

  <div id="elm-app"></div>


<script type="text/javascript">
  var elmDiv = document.getElementById('elm-app');
  var elmApp = Elm.embed(Elm.HomePage, elmDiv, {locationSearch: window.location.search, scrollY: 0});
  
  elmApp.ports.requestAdjustMargin.subscribe(adjustMargin);

  // $('#page').on( 'scroll', function(){
  //   elmApp.ports.scrollY.send($("#page").scrollTop())
  // })
  
  function adjustMargin() {
    var pic = document.getElementById('picContainer');
    var lightBC = document.getElementById('lightBC');
    var imageWidth = pic.offsetWidth;
    var imageHeight = pic.offsetHeight;
    var vpWidth = document.documentElement.clientWidth - 13; 
    // var vpHeight = document.documentElement.clientHeight - 13 ;

    lightBC.style.position = 'absolute'
    lightBC.style.left = (vpWidth - imageWidth)/2 + 'px';
    
    console.log(vpWidth);
    console.log(imageWidth);  
    console.log((vpWidth - imageWidth)/2 + 'px');
    // lightBC.style.left ='0px';
    // pic.style.top = (vpHeight - imageHeight)/2 + window.pageYOffset + 'px';
  }

  window.onload = function (){
    var page = document.getElementById('page');
    
    sendScroll = function(){
      elmApp.ports.scrollY.send(page.scrollTop)
    }

    page.onscroll = sendScroll
  
  

  }
  
  

</script>
</body>
</html>